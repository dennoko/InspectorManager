# Inspector Manager の使い方

Inspector Managerは、UnityエディタでのInspectorウィンドウの管理を効率化する拡張機能です。
複数のInspectorウィンドウを自動的に更新し、選択履歴の管理やお気に入り登録が可能です。

---

## Inspectorローテーション

### 概要

複数のInspectorウィンドウを開いている場合、通常はすべて同じオブジェクトが表示されてしまいます。
ローテーション機能をONにすると、オブジェクトを選択するたびにInspectorの内容が自動的に更新されます。

### 更新モード

#### 履歴モード（デフォルト）

各タブに固定位置の履歴を表示します。

| タブ | 表示内容 |
|------|---------|
| Inspector 1 | 最新の選択 |
| Inspector 2 | 1つ前の選択 |
| Inspector 3 | 2つ前の選択 |

> **想定ユースケース**: 親オブジェクトと子オブジェクトを比較しながら作業したい場合に最適です。
> 各タブの位置が固定されているため、「1番目は常に最新」と直感的に把握でき、複数オブジェクトのプロパティを安定して見比べることができます。

#### サイクルモード

最も古いInspectorから順に1つずつ更新していきます。

> **想定ユースケース**: 特定のオブジェクトをInspectorに「張り付けておきたい」場合に便利です。
> 例えば、3つのInspectorがある場合、3つの異なるオブジェクトをそれぞれのタブに固定表示できます。

### 一時停止

ローテーション有効中に一時停止ボタンで一時停止が可能です。一時停止中はオブジェクトを選択してもInspectorの内容が更新されません。

> **想定ユースケース**: 現在のInspector表示を維持したまま、Hierarchyで別のオブジェクトを選択して操作したい場合に使います。
> 例えば、マテリアル設定を見ながら別のオブジェクトを移動させるといった作業に便利です。

---

## Inspector管理（状態タブ）

### Inspector一覧

状態タブには、現在開いているすべてのInspectorウィンドウが一覧表示されます。

各行の要素：
- **ドラッグハンドル（≡）**: ドラッグ&ドロップでローテーション順序を並び替え
- **ロックアイコン**: クリックでロック/アンロック切り替え
- **Inspector番号**: ウィンドウの識別番号
- **ローテーションバッジ**: 次の更新対象（NEXT）や順序を表示
- **表示中のオブジェクト名**: 現在Inspectorに表示されているオブジェクト
- **－/＋ボタン**: ローテーションから除外/復帰
- **✕ボタン**: Inspectorウィンドウを閉じる
- **表示ボタン**: そのInspectorにフォーカス

### Inspectorの追加

リスト下部の「＋ Inspectorを追加」ボタンをクリックすると、新しいInspectorウィンドウが生成されます。

- ローテーション有効時: 自動でローテーション対象に追加されます
- ローテーション無効時: 通常のInspectorとして開きます

> **想定ユースケース**: 作業中に「もう1つInspectorが欲しい」と思った時に、Inspector Manager上からワンクリックで追加できます。
> Unityのメニューからわざわざ開く必要がなく、追加後すぐにローテーション対象として使えます。

### Inspectorの削除

各行の「✕」ボタンでInspectorを閉じることができます。

> **想定ユースケース**: 作業が終わって不要になったInspectorをすぐに片付けられます。

### 並び替え

各行の左端にある「≡」アイコンをドラッグして、ローテーション順序を変更できます。

> **想定ユースケース**: 履歴モードでは「Inspector 1 = 最新」なので、画面上で最も見やすい位置にあるInspectorを1番にすると快適です。

### 除外管理

ローテーション有効時、各行の「－」ボタンでそのInspectorをローテーション対象から除外できます。除外されたInspectorは「(Ex)」バッジが付き、ロック状態が維持されます。

> **想定ユースケース**: 特定のオブジェクト（マテリアルやプレハブなど）を1つのInspectorに固定表示し、残りのInspectorだけでローテーションしたい場合に使います。

---

## 選択履歴 (History)

過去に選択したオブジェクトの履歴を自動的に記録します。

- **ワンクリック選択**: 履歴内のオブジェクト名をクリックして再選択
- **戻る/進む**: ブラウザのように戻る/進むボタンで履歴をナビゲート
- **お気に入り登録**: 星アイコンをクリックしてお気に入りに追加
- **ドラッグ&ドロップ**: 履歴のオブジェクトをHierarchyやInspectorにドラッグ可能

> **想定ユースケース**: 「さっき編集していたオブジェクトの名前が思い出せない」という時に、履歴から素早く見つけて選択し直せます。

---

## お気に入り (Favorites)

よく使うオブジェクトをお気に入りに登録できます。

- 履歴リストの星アイコンからワンクリックで登録
- ドラッグ&ドロップで並び替え可能
- プロジェクトを閉じても保持されます

> **想定ユースケース**: 頻繁にアクセスするマテリアル、スクリプト、プレハブなどを登録しておくと、Projectウィンドウを検索する手間が省けます。

---

## Inspectorオーバーレイ

各Inspectorウィンドウの上部に、番号とロック状態を示すオーバーレイが表示されます。
ボタンをクリックするだけで、そのInspectorのロック状態を切り替えることができます。

---

## ショートカット一覧

| ショートカット | 機能 |
| --- | --- |
| `Ctrl + L` | 現在アクティブなInspectorのロック切り替え |
| （カスタム設定可能） | 全Inspectorのロック一括切り替え |
| （カスタム設定可能） | ローテーション一時停止/再開 |

> ショートカットは設定タブの「ショートカット設定を開く...」ボタンから、Unity標準のShortcut Managerで自由にカスタマイズできます。

---

## 設定

設定タブでは以下の項目を変更できます。

### 基本設定

- **言語 / Language**: 日本語と英語を切り替えます。

### 履歴設定

- **最大履歴数**: 保存する履歴の最大数を指定します。
- **シーンオブジェクトを記録**: シーン内のオブジェクトを履歴に残すか設定します。
- **アセットを記録**: Project内のアセットを履歴に残すか設定します。
- **無効なエントリを自動削除**: 削除されたオブジェクトなどを履歴から自動的に削除します。

### ローテーション設定

- **更新時にInspectorをフォーカス**: 更新されたInspectorを自動的に前面に表示します。
- **更新モード**: 履歴モード（固定位置表示）とサイクルモード（順番に更新）を選択できます。

### Inspector更新ブロック

特定の種類のオブジェクトを選択した際に、Inspectorの更新をブロックします。

- **カテゴリA（操作不可なオブジェクト）**: フォルダ、DefaultAsset、アセンブリ定義、ネイティブプラグイン
- **カテゴリB（操作が限定的なオブジェクト）**: スクリプト、シェーダー/コンピュートシェーダー、フォント

> フォルダをクリックしてInspectorの内容が不意に書き換わるのを防ぐことができます。

---

## インストール方法

`Assets/Editor/InspectorManager` フォルダをプロジェクトに配置するだけで使用可能です。
メニューバーの `dennokoworks > Inspector Manager` からウィンドウを開くことができます。
